"use strict";(self.webpackChunksk_blog=self.webpackChunksk_blog||[]).push([[553],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return h}});var r=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,i=function(e,t){if(null==e)return{};var a,r,i={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=r.createContext({}),m=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=m(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=m(a),h=i,k=c["".concat(l,".").concat(h)]||c[h]||p[h]||n;return a?r.createElement(k,o(o({ref:t},d),{},{components:a})):r.createElement(k,o({ref:t},d))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=a.length,o=new Array(n);o[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var m=2;m<n;m++)o[m]=a[m];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},7965:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return m},toc:function(){return d},default:function(){return c}});var r=a(3117),i=a(102),n=(a(7294),a(3905)),o=["components"],s={},l="Automated Market Maker (AMM)",m={unversionedId:"web3/automated-market-maker",id:"web3/automated-market-maker",title:"Automated Market Maker (AMM)",description:"First of all, What is a Market Maker?",source:"@site/docs/web3/automated-market-maker.mdx",sourceDirName:"web3",slug:"/web3/automated-market-maker",permalink:"/shaokiat-blog/docs/web3/automated-market-maker",editUrl:"https://github.com/shaokiat/shaokiat-blog/tree/main/docs/web3/automated-market-maker.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"You-Dont-Know-JS",permalink:"/shaokiat-blog/docs/web-dev/you-dont-know-js"},next:{title:"InterPlanetary File System (IPFS)",permalink:"/shaokiat-blog/docs/web3/ipfs"}},d=[{value:"First of all, What is a Market Maker?",id:"first-of-all-what-is-a-market-maker",children:[],level:2},{value:"So what is an Automated Market Maker (AMM)?",id:"so-what-is-an-automated-market-maker-amm",children:[{value:"How does Automated Market Maker work?",id:"how-does-automated-market-maker-work",children:[],level:3},{value:"Liquidity Pool and Liquidity Provider (LP)",id:"liquidity-pool-and-liquidity-provider-lp",children:[{value:"What is a liquidity pool?",id:"what-is-a-liquidity-pool",children:[],level:4},{value:"Who are the liquidity providers (LP)?",id:"who-are-the-liquidity-providers-lp",children:[],level:4}],level:3},{value:"Pricing algorithm in AMM",id:"pricing-algorithm-in-amm",children:[{value:"Slippage",id:"slippage",children:[],level:4}],level:3},{value:"Impermanent Loss",id:"impermanent-loss",children:[],level:3}],level:2}],p={toc:d};function c(e){var t=e.components,a=(0,i.Z)(e,o);return(0,n.kt)("wrapper",(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"automated-market-maker-amm"},"Automated Market Maker (AMM)"),(0,n.kt)("h2",{id:"first-of-all-what-is-a-market-maker"},"First of all, What is a ",(0,n.kt)("a",{parentName:"h2",href:"https://www.investopedia.com/terms/m/marketmaker.asp#:~:text=The%20term%20market%20maker%20refers,in%20the%20bid%2Dask%20spread."},"Market Maker"),"?"),(0,n.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"market maker")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"The term market maker refers to a firm (often centralized) or individual who actively quotes two-sided markets\nin a particular asset, providing bids and asks along with the market size of each. Market makers provide liquidity and depth\nto markets and profit from the difference in the bid-ask spread."))),(0,n.kt)("div",{align:"center"},(0,n.kt)("img",{src:"/shaokiat-blog/img/web/marketmaker.jpg",alt:"evolution",width:"700"})),(0,n.kt)("div",{align:"center",width:"700",textAlign:"left",style:{}},"Source:",(0,n.kt)("a",{href:"https://blog.aax.com/en/2019/04/25/market-makers/"}," AAX")),(0,n.kt)("p",null,"If you have experience in trading securities, you would have encountered the bids and asks as shown by your brokerage firms,\nwhich are often the market makers as well. Once the market maker receives an order from a buyer, they immediately sell off their\nposition of shares from their own inventory, completing the order."),(0,n.kt)("p",null,"Market making facilitates a smoother flow of financial markets by making it easier\nfor investors and traders to buy and sell. These market makers are an essential part of the stock market as\nthey keep the financial markets liquid."),(0,n.kt)("p",null,"For further details on market makers, head over to ",(0,n.kt)("a",{parentName:"p",href:"https://www.investopedia.com/terms/m/marketmaker.asp#:~:text=The%20term%20market%20maker%20refers,in%20the%20bid%2Dask%20spread."},"Investopedia"),"."),(0,n.kt)("h2",{id:"so-what-is-an-automated-market-maker-amm"},"So what is an ",(0,n.kt)("a",{parentName:"h2",href:"https://academy.binance.com/en/articles/what-is-an-automated-market-maker-amm"},"Automated Market Maker")," (AMM)?"),(0,n.kt)("p",null,"I am sure many of us is wondering, how is the price of a cryptocurrency on a ",(0,n.kt)("a",{parentName:"p",href:"https://www.investopedia.com/decentralized-finance-defi-5113835#:~:text=Decentralized%20finance%20(DeFi)%20is%20an,to%20those%20used%20by%20cryptocurrencies.&text=It%20eliminates%20the%20fees%20that,keeping%20it%20in%20a%20bank."},"Decentralized Finance"),"\n(DeFi) determined without the help of a centralized exchange that serves as its market maker?"),(0,n.kt)("p",null,"The answer to this question is the adoption of ",(0,n.kt)("strong",{parentName:"p"},"Automated Market Makers"),"."),(0,n.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"automated market maker")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"An automated market maker (AMM) is a type of ",(0,n.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Decentralized_exchange"},"decentralized exchange")," (DEX) protocol that relies on a mathematical formula to price assets.\nInstead of using an order book like a traditional exchange, assets are priced according to a ",(0,n.kt)("a",{parentName:"p",href:"#pricing-algorithm-in-amm"},(0,n.kt)("strong",{parentName:"a"},"pricing algorithm")),"."))),(0,n.kt)("h3",{id:"how-does-automated-market-maker-work"},"How does Automated Market Maker work?"),(0,n.kt)("p",null,"An AMM work similarly to an order book exchange in that there are trading pairs. However, the difference is that there is no need\nfor a counterparty on the other side to complete a trade. Instead, traders interact with the AMM which is a smart contract that acts\nas the market maker. Binance Academy refers to this as ",(0,n.kt)("a",{parentName:"p",href:"https://academy.binance.com/en/articles/what-is-an-automated-market-maker-amm"},(0,n.kt)("em",{parentName:"a"},"peer-to-contract (P2C)")),"."),(0,n.kt)("h3",{id:"liquidity-pool-and-liquidity-provider-lp"},"Liquidity Pool and Liquidity Provider (LP)"),(0,n.kt)("h4",{id:"what-is-a-liquidity-pool"},"What is a liquidity pool?"),(0,n.kt)("p",null,"Liquidity pools represent different trading pairs, for example, ETH/BNB. AMM uses these liquidity pools to facilitate trading. As mentioned previously,\ntrading on the Decentralized Exchange (DEX) is basically making a trade with the smart contract which holds these liquidity pools."),(0,n.kt)("h4",{id:"who-are-the-liquidity-providers-lp"},"Who are the liquidity providers (LP)?"),(0,n.kt)("p",null,"Liquidity providers (LP) provide funds to liquidity pools, in exchange for fees from the trades that happen in the pools. This serves\nas an incentive for more liquidity providers, which will in turn reduce the price impact and ",(0,n.kt)("a",{parentName:"p",href:"#slippage"},"slippage"),", a key criteria for the AMM."),(0,n.kt)("h3",{id:"pricing-algorithm-in-amm"},"Pricing algorithm in AMM"),(0,n.kt)("p",null,"I will be using the most popular DEX protocol as of date, ",(0,n.kt)("a",{parentName:"p",href:"https://uniswap.org/"},"Uniswap")," as an example.\nSee also: ",(0,n.kt)("a",{parentName:"p",href:"https://docs.uniswap.org/protocol/V2/concepts/advanced-topics/pricing"},"UniswapV2 Pricing"),"."),(0,n.kt)("div",{align:"center"},(0,n.kt)("img",{src:"/shaokiat-blog/img/web/pricing-algo.png",alt:"pricing-algo",width:"600"})),(0,n.kt)("div",{align:"center",width:"700",textAlign:"left",style:{}},"Source:",(0,n.kt)("a",{href:"https://doc.openswap.xyz/support-and-faq/swapping-guide"}," ","OpenSwap")),(0,n.kt)("p",null,"The AMM allows anyone to deposit or withdraw tokens from them, but only according to very specific rules set in the smart contract.\nOne such rule is the ",(0,n.kt)("a",{parentName:"p",href:"https://docs.uniswap.org/protocol/V2/concepts/advanced-topics/pricing"},(0,n.kt)("strong",{parentName:"a"},"constant product formula")),": ",(0,n.kt)("inlineCode",{parentName:"p"},"x * y = const"),",\nwhere x and y are the reserves of two tokens in the liquidity pool."),(0,n.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"trade")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"In order to withdraw some amount ot token X, one must deposit a proportional amount of token Y to maintain the constant ",(0,n.kt)("inlineCode",{parentName:"p"},"k"),".\nThe price is determined by the ratio between these two tokens."))),(0,n.kt)("h4",{id:"slippage"},"Slippage"),(0,n.kt)("p",null,"To be continued..."),(0,n.kt)("h3",{id:"impermanent-loss"},"Impermanent Loss"),(0,n.kt)("p",null,"To be continued..."))}c.isMDXComponent=!0}}]);